# Item1. ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ê³ ë ¤í•˜ë¼

ğŸš« ì£¼ì˜!! GoFì˜ ë””ìì¸íŒ¨í„´ì˜ ê·¸ëŸ° íŒ¨í„´ê³¼ëŠ” ë¬´ê´€í•˜ë‹¤

ìš°ì„  ì´ ì±…ì—ì„œ ë‚˜ì˜¤ëŠ” í´ë¼ì´ì–¸íŠ¸ë¶€í„° ì •ë¦¬ë¥¼ í•´ì•¼ê² ë‹¤.

ì—¬ê¸°ì„œì˜ í´ë¼ì´ì–¸íŠ¸ëŠ” ê·¸ëƒ¥ ìš°ë¦¬ë¼ê³  ìƒê°í•˜ëŠ”ê²Œ ë§ë‹¤ê³  ë³¸ë‹¤.

ìš°ë¦¬ê°€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ `public` ìƒì„±ìì´ë‹¤.

ì—¬ê¸°ì„œ ë‚˜ì˜¤ëŠ” ë°©ë²•ì€ ì¼ë°˜ì  ìƒì„±ìê°€ ì•„ë‹Œ

`ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ` ê·¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤.

## ì¥ì 

ê·¸ë ‡ë‹¤ë©´ ì´ ë°©ë²•ì˜ ì¥ì ì„ ì•Œì•„ë³¸ë‹¤.

### 1. ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

ëŒ€ê°œ ìƒì„±ìëŠ” ì´ë¦„ì´ ì—†ê¸° ë•Œë¬¸ì— ì½”ë“œë¡œ ë³´ë©´

```java
Foo foo = new Foo();
Foo foo = new Foo(parameter1);
Foo foo = new Foo(param1, param2);
```

ì´ëŸ°ì‹ìœ¼ë¡œ ì–´ë–¤ ì¡°ê±´ì¼ ë•Œ ê°ê¸° ë‹¤ë¥¸ ìƒì„±ìë¡œ ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ í•´ì£¼ëŠ”ì§€

ì•Œ ìˆ˜ ìˆëŠ” ë²•ì´ í˜ë“¤ë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ ì»´í“¨í„°ë¼ëŠ” ê°ì²´ê°€ ëª¨ë‹ˆí„°ì™€ ë³¸ì²´ë¥¼ ê°€ì§€ê³  ìˆë‹¤ê³  í•œë‹¤ë©´,

ë³¸ì²´ë§Œ ë”°ë¡œ êµ¬ë§¤í–ˆì„ ê²½ìš°ì—” ëª¨ë‹ˆí„°ëŠ” ì—†ëŠ” ìƒíƒœì´ë‹¤.

```java
Computer computer = new Computer("ë³¸ì²´");
Computer computer = Computer.noMonitor("ë³¸ì²´");
```

ì¢€ ê·¹ë‹¨ì ìœ¼ë¡œ ì˜ˆë¥¼ ë“¤ì—ˆì§€ë§Œ ì–´ë–¤ê²Œ ë” ë‚˜ì„ê±°ëƒ ë¼ëŠ”ê±´ ë³¸ì¸ì˜ íŒë‹¨ì´ë‹¤.

ë¬¼ë¡  ë‚´ê°€ ìƒê°í•  ë•Œì—ëŠ” í›„ìê°€ ë” ì´í•´í•˜ê¸° ì‰½ë‹¤ê³  ìƒê°í•œë‹¤.

ìƒì„±ì ì˜¤ë²„ë¡œë”©ì´ ì—¬ëŸ¬ê°œê°€ ë˜ì–´ìˆê±°ë‚˜, ê·¸ë ‡ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ë”ë”ìš±

**ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ**ë¥¼ ì‚¬ìš©í•˜ëŠ”ê±¸ ì¶”ì²œí•œë‹¤.

### 2. í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ì´ ì´ìœ ë¡œ ë¶ˆë³€ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ê±°ë‚˜

ìƒˆë¡œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìºì‹±í•˜ì—¬ ì‚¬ìš©í•˜ê²Œ ë  ìˆ˜ ìˆë‹¤.

ì—¬ê¸°ì„œ ë‚˜ì˜¨ `Boolean.valueOf(boolean);`ë¥¼ ë“¤ì–´ê°€ë³´ë©´

ì´ë¯¸ `public static final Boolean`ìœ¼ë¡œ `true`ì™€ `false`ì— ëŒ€í•œ ê°ì²´ë¥¼ ì •ì˜í•´ë‘ì—ˆë‹¤.

ì´ì²˜ëŸ¼ ê°™ì€ ê°ì²´ê°€ ë°˜ë³µì ìœ¼ë¡œ ìš”ì²­ë˜ëŠ” ìƒí™©ì¼ ê²½ìš°ì— ì´ëŸ° ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ì¢‹ì€ ë°©ë²•ì´ ë  ìˆ˜ ìˆë‹¤.

ê·¸ë˜ì„œ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” **ì¸ìŠ¤í„´ìŠ¤ í†µì œ** í´ë˜ìŠ¤ë¼ê³ ë„ í•œë‹¤.

ê·¸ ì´ìœ ëŠ”, ì–¸ì œ ì–´ëŠ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚´ì•„ ìˆê²Œ í• ì§€ **í†µì œ**í•˜ê¸° ë•Œë¬¸.

ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µì œí•¨ìœ¼ë¡œì¨ [Singleton](https://lsj8367.github.io/java/Java-design-pattern-7/) ì´ë‚˜ ì¸ìŠ¤í„´ìŠ¤í™” ë¶ˆê°€ë¡œë„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ê²°êµ­ ì´ ì‹±ê¸€í†¤ íŒ¨í„´ë„ ì§€ê¸ˆ ì´ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ì„œ +@ ë¡œ ë™ì‹œì„± ë¬¸ì œê¹Œì§€ ê³ ì•ˆí•œ íŒ¨í„´ì´ë¼ ìƒê°í•œë‹¤.

### 3. ë°˜í™˜ íƒ€ì…ì˜ í•˜ìœ„ íƒ€ì… ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìˆë‹¤.

> ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ììœ ë¡­ê²Œ ì„ íƒí•˜ê²Œ í•  ìˆ˜ ìˆëŠ” **ìœ ì—°ì„±**ì„ ì œê³µí•œë‹¤.

```java
public class Parent {
    private Parent() {
    }
    
    public static Parent of() {
    // ìì‹ì˜ í´ë˜ìŠ¤ë¥¼ ìœ ì—°í•˜ê²Œ êµ¬ì„±í•˜ì˜€ê³  í´ë¼ì´ì–¸íŠ¸ê°€ í˜¸ì¶œ í•  ë•Œì—ëŠ”
    // Parent parent = Parent.of(); //ì‹¤ìƒ ë¶ˆëŸ¬ì˜¤ê²Œ ëœê±´ Childê°€ ë¼ì›Œì§€ëŠ”ê²ƒ
        return Child.of();
    }
}

public class Child extends Parent {
    private Child() {
    }
    
    public static Child of() {
        return new Child();
    }
}
```

`Collections` í”„ë ˆì„ì›Œí¬ëŠ” ë¶ˆë³€ ê°ì²´ë‚˜ ë™ê¸°í™” ë“±ë“±ì˜ ê¸°ëŠ¥ì„ í•˜ëŠ” ìœ í‹¸ë¦¬í‹° êµ¬í˜„ì²´ë¥¼ ì œê³µí•˜ëŠ”ë°

ì „ë¶€ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë¡œ ì–»ê²Œ ë˜ì–´ìˆë‹¤. (ë¬¼ë¡  ì§ì ‘ ë§Œë“¤ì–´ì¤˜ë„ ëœë‹¤.)

### 4. ì…ë ¥ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë§¤ë²ˆ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.

ì´ë¶€ë¶„ì€ íŒ©í† ë¦¬ì™€ ì—°ê´€ì´ ìˆë‹¤.

íŒ©í† ë¦¬ ëœ»ì€ ê³µì¥ì´ë¼ëŠ” ëœ»ì¸ë°, ì…ë ¥ê°’ì´ ë“¤ì–´ì˜¨ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë°˜í™˜í•´ì£¼ë©´ ëœë‹¤.

```java
public class Parent {
    private Parent() {
    }
    
    public static Parent of(final char selector) {
        if (selector == 'p') {
            return new Parent();
        }
        return Child.of();
    }
}

public class Child extends Parent {
    private Child() {
    }
    
    public static Child of() {
        return new Child();
    }
}
```

### 5. ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì‘ì„±í•˜ëŠ” ì‹œì ì—ëŠ” ë°˜í™˜í•  ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

```java
public abstract class Weapon {

    public static Weapon getInstance(final String classPath) {
        
        Weapon weapon = null;

        try {
            Class<?> clazz = Class.forName(classPath);
            weapon = (Weapon) clazz.getDeclaredConstructor().newInstance();

        } catch (InstantiationException e) {
            System.out.println(e.getMessage());
        } catch (IllegalAccessException e) {
            System.out.println(e.getMessage());
        } catch (InvocationTargetException e) {
            System.out.println(e.getMessage());
        } catch (NoSuchMethodException e) {
            System.out.println(e.getMessage());
        } catch (ClassNotFoundException e) {
            System.out.println(e.getMessage());
        }

        return weapon;
    }

    abstract String attack();
}
```

ìë°” ë¦¬í”Œë ‰ì…˜ì„ í™œìš©í•´ì„œ ì‹¤ì œ êµ¬í˜„ì²´ëŠ” ì—†ëŠ” ìƒí™©ì—ì„œ ì´ì²˜ëŸ¼

`clazz.getDeclaredConstructor().newInstance()` ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ë©°

ì±… ë‚´ìš©ì²˜ëŸ¼ JDBCëŠ” ì•„ë‹ˆì§€ë§Œ êµ¬í˜„ì„ í•´ë´¤ë‹¤.

`Weapon` ì˜ êµ¬í˜„ì²´ëŠ” ì–´ë””ì—ë„ ì—†ì§€ë§Œ êµ¬í˜„ì²´ê°€ ì—†ì„ ë•Œì—ëŠ” ì˜ˆì™¸ë¡œ ë¯¸ë¦¬ ì¡ì•„ì¤Œìœ¼ë¡œì¨

ì˜ˆì™¸ ì²˜ë¦¬ë„ ë¯¸ë¦¬ ì •ì˜í•´ë†“ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

> ì•„ë˜ëŠ” ì‘ì€ ì˜ˆì‹œì´ë‹¤.

```java
public class Ax extends Weapon {
    @Override
    public String attack() {
        return "ë„ë¼ë¡œ ì°ëŠ”ë‹¤.";
    }
}
```

```java
class WeaponTest {

    @Test
    @DisplayName("ì •ìƒì ì¸ ìƒì„± í…ŒìŠ¤íŠ¸")
    void normalTest() {
        Weapon weapon = Weapon.getInstance("ex.Ax");
        assertThat(weapon.attack()).isEqualTo("ë„ë¼ë¡œ ì°ëŠ”ë‹¤.");
    }

    @Test
    @DisplayName("ë¦¬í”Œë ‰ì…˜ ìƒì„± ì˜ˆì™¸ í…ŒìŠ¤íŠ¸")
    void exceptionTest() {
        // ClassNotFoundExceptionì´ ë°œìƒí•œë‹¤.
        // ì˜ˆì‹œì—ì„œëŠ” System.out.println(); ìœ¼ë¡œ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ì°ì–´ë‘ì—ˆë‹¤.
        final Weapon weapon = Weapon.getInstance("ex.Gun");
        assertThatThrownBy(() -> weapon.attack())
            .isInstanceOf(NullPointerException.class);
    }
}
```

ì´ì œ ë‹¨ì ì— ëŒ€í•´ ì•Œì•„ë³´ì

## ë‹¨ì 

### 1. ìƒì†ì„ í•˜ë ¤ë©´ publicì´ë‚˜ protected ìƒì„±ìê°€ í•„ìš”í•˜ë‹ˆ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë§Œ ì œê³µí•˜ë©´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.

ìœ„ì˜ ì˜ˆì‹œì—ì„œ ë‹¤ì‹œ `Weapon`ì„ ë‹¤ì‹œ ë³´ìë©´...

```java
public abstract class Weapon {
    private Weapon() {}
    public static Weapon getInstance(); //...ì´í•˜ ìƒëµ
    public abstract String attack();
}
```

ì§§ê²Œ ê°€ì ¸ì˜¤ë©´ ì´ëŸ° ì¶”ìƒ í´ë˜ìŠ¤ ì•„ë˜ì— ì¶”ìƒ ë©”ì„œë“œê°€ ìˆë‹¤ê³ ë§Œ ê°€ì •í•œë‹¤.

```java
public class Gun extends Weapon {
    public Gun() {
        super(); // ì—ëŸ¬ !!
    }
}
```

ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ë˜ê³  ì´ëŸ°ì‹ì´ë¼ë©´ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ë§Œë“¤ ìˆ˜ ì—†ê²Œ ëœë‹¤.

### 2. ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì°¾ê¸° ì–´ë µë‹¤.

ìƒì„±ìì²˜ëŸ¼ API ì„¤ëª…ì— ì˜ ë“œëŸ¬ë‚˜ì§€ëŠ” ì•Šì§€ë§Œ,

ë‚˜ëŠ” ê°œë°œí•  ë•Œ `.`ì„ ì°ì–´ë³´ë©´ì„œ ê·¸ë¦¬ê³  `Builder`í´ë˜ìŠ¤ê°€ ì¢€ ë³´ì—¬ì„œ

`new` ëŒ€ì‹  ê·¸ í´ë˜ìŠ¤ ì´ë¦„ì„ ì ê³  ì ì„ ì°ì–´ì„œ ì •ì  íŒ©í† ë¦¬ë¥¼ ë¨¼ì € ì°¾ëŠ”í¸ì´ë‹¤.

ê·¸ë˜ì„œ ë‚˜ëŠ” ì´ê²Œ ë‹¨ì ìœ¼ë¡œ ì™€ë‹¿ì§€ ì•ŠëŠ”ë‹¤.